## Установка и запуск

```bash
make install
make package-install
database
```

## Управление таблицами

Данное приложение представляет собой простую консольную базу данных, позволяющую управлять таблицами и их структурой. Все взаимодействие с базой данных осуществляется через ввод команд в терминале.

### Доступные команды

- `create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> ...`  
  Создает новую таблицу с указанным именем и набором столбцов.  
  Столбец `ID:int` добавляется автоматически и задавать его вручную запрещено.  
  Поддерживаемые типы данных: `int`, `str`, `bool`.

- `list_tables`  
  Отображает список всех существующих таблиц в базе данных.

- `drop_table <имя_таблицы>`  
  Удаляет таблицу с указанным именем из базы данных. Ожидает подтвержения y/n.

- `help`  
  Выводит справочную информацию о доступных командах.

- `exit`  
  Завершает работу программы.

---
### CRUD-операции (работа с данными)
После создания таблиц можно выполнять операции с данными.
Данные каждой таблицы хранятся в отдельном JSON-файле в директории ```data/```
(например: ```data/users.json```).
Все поля таблицы являются обязательными. Значение для столбца ```ID``` указывать не нужно — оно генерируется автоматически.
Ошибки работы с таблицами и данными обрабатываются: вместо падения программа выводит сообщения и продолжает работу.
Доступные команды
- `insert into <имя_таблицы> values (<значение1>, <значение2>, ...)`
Добавляет новую запись в таблицу. Время выполнения выводится в консоль.
- `select from <имя_таблицы>`
Выводит все записи таблицы. Время выполнения выводится в консоль. Результаты одинаковых запросов `select` кэшируются на время работы программы.
- `select from <имя_таблицы> where <столбец> = <значение>`
Выводит записи, удовлетворяющие условию. Время выполнения выводится в консоль. Результаты одинаковых запросов `select` кэшируются на время работы программы.
- `update <имя_таблицы> set <столбец> = <новое_значение> where <столбец> = <значение>`
Обновляет значения в записях, удовлетворяющих условию.
- `delete from <имя_таблицы> where <столбец> = <значение>`
Удаляет записи, удовлетворяющие условию. Ожидает подтвержения y/n.
- `info <имя_таблицы>`
Выводит информацию о таблице: структуру столбцов и количество записей.
---

### Пример использования

```text
$ database

***База данных***

***Процесс работы с таблицей***
Функции:
<command> create_table <имя_таблицы> <столбец1:тип> .. - создать таблицу
<command> list_tables - показать список всех таблиц
<command> drop_table <имя_таблицы> - удалить таблицу

>>>Введите команду: create_table users name:str age:int is_active:bool
Таблица "users" успешно создана со столбцами: ID:int, name:str, age:int, is_active:bool.

>>>Введите команду: create_table users name:str
Таблица "users" уже существует.

>>>Введите команду: list_tables
- users

>>>Введите команду: insert into users values ("Sergei", 28, true)
Запись с ID=1 успешно добавлена в таблицу "users".

>>>Введите команду: select from users where age = 28
+----+--------+-----+-----------+
| ID |  name  | age | is_active |
+----+--------+-----+-----------+
| 1  | Sergei |  28 |    True   |
+----+--------+-----+-----------+

>>>Введите команду: update users set age = 29 where name = "Sergei"
1 записей с ID: 1 успешно обновлено.

>>>Введите команду: delete from users where ID = 1
Вы уверены, что хотите выполнить "удаление записей"? [y/n]: y
1 записей с ID: 1 успешно удалено.

>>>Введите команду: info users
Таблица: users
Столбцы: ID:int, name:str, age:int, is_active:bool
Количество записей: 0

>>>Введите команду: drop_table users
Вы уверены, что хотите выполнить "удаление таблицы"? [y/n]: y
Таблица "users" успешно удалена.

>>>Введите команду: drop_table products
Вы уверены, что хотите выполнить "удаление таблицы"? [y/n]: y
Таблица "products" не существует.

>>>Введите команду: exit
```
В случае ввода неизвестной команды или некорректных аргументов программа выводит сообщение об ошибке и повторно запрашивает ввод команды.

[![asciinema](https://asciinema.org/a/2E1XIM9O4a8ec16e.svg)](https://asciinema.org/a/2E1XIM9O4a8ec16e)
